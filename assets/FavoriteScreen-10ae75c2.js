import{d,r as c,_ as u,c as n,F as _,e as f,o as a,a as o,t as r}from"./index-176eecf3.js";import{_ as h}from"./delete-bf6c5db5.js";function p(e){const[s,i]=e.split(",");return{lon:s,lat:i}}function m(e){return"http://maps.google.com/maps?f=q&hl=ja&geocode=&q="+e.lat+","+e.lon+"&z=19&ie=UTF8&dirflg=w"}function g(e){return"comgooglemaps://?q="+e.lat+","+e.lon+"&zoom=17"}function b(){const e=window.navigator.userAgent.toLowerCase();return e.indexOf("iphone")!=-1||e.indexOf("ipad")!=-1||e.indexOf("android")!=-1||e.indexOf("mobile")!=-1}const k=d({name:"FavoriteScreen",setup(e){let s=localStorage.getItem("favorite_libralies")??"[]";const i=c(JSON.parse(s)),l=c(b());return{favorites:i,isMobaile:l,parseGeocode:p,geocodeToUrl:g,geocodeToScheme:m}},methods:{onClickDelete(e){let s=this.favorites.filter(i=>i!==e);this.favorites=s,localStorage.setItem("favorite_libralies",JSON.stringify(this.favorites))}}}),S={class:"mt-4"},v={class:"p-3"},w=["onClick"],F=o("img",{class:"float-right w-4 h-4",src:h},null,-1),x=[F],y={class:"w-fit font-bold text-xs mb-2 bg-slate-200"},C={class:"w-fit font-medium"},O={class:"w-fit text-left text-sm"},M={class:"text-right"},T=["href"],$=["href"],q=o("hr",{class:"mr-6"},null,-1);function B(e,s,i,l,D,G){return a(),n("div",S,[(a(!0),n(_,null,f(e.favorites,t=>(a(),n("div",{key:t.libid},[o("div",v,[o("div",{onClick:I=>e.onClickDelete(t)},x,8,w),o("p",y,r(t.city),1),o("p",C,r(t.short),1),o("p",O,r(t.address),1),o("p",M,r(t.distance.toFixed(2))+"km",1),e.isMobaile?(a(),n("a",{key:0,href:e.geocodeToScheme(e.parseGeocode(t.geocode)),target:"_blank"},"ここへいく",8,T)):(a(),n("a",{key:1,href:e.geocodeToUrl(e.parseGeocode(t.geocode)),target:"_blank"},"ここへいく",8,$))]),q]))),128))])}const z=u(k,[["render",B]]);export{z as default};
